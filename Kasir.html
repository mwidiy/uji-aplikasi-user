<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>Pembayaran Kasir</title>
    <meta name="theme-color" content="#2C3E50">
    <style>
        :root {
            --bg-main: #2C3E50;
            --card-bg: #FFFFFF;
            --text-main: #1F2937;
            --text-sub: #64748B;
            --border-soft: #E2E8F0;
            --yellow: #FBBF24;
            --yellow-soft: #FCD34D;
            --info-blue: #93C5FD;
            --info-yellow-bg: rgba(245,158,11,0.20);
        }

        * {
            margin:0;
            padding:0;
            box-sizing:border-box;
            font-family:'Inter','Poppins',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
        }

        body {
            min-height:100vh;
            background:#111827;
            display:flex;
            justify-content:center;
            align-items:flex-start;
        }

        .app {
            width:100%;
            max-width:414px;
            min-height:100vh;
            background:var(--bg-main);
            color:#fff;
            position:relative;
            padding-top:80px;
            padding-bottom:24px;
            overflow:hidden;
        }

        /* HEADER */
        .kasir-header {
            position:absolute;
            top:16px;
            left:0;
            right:0;
            display:flex;
            align-items:center;
            justify-content:center; /* judul benar-benar di tengah */
            pointer-events:none;    /* header tidak menangkap klik, kecuali back */
        }

        .btn-back {
            position:absolute;
            left:21px;
            width:36px;
            height:36px;
            border-radius:999px;
            border:none;
            background:transparent;
            display:flex;
            align-items:center;
            justify-content:center;
            cursor:pointer;
            pointer-events:auto;
            padding:0;
        }

        /* back pakai img, biar bisa kamu ganti sendiri */
        .btn-back img {
            width:22px;
            height:22px;
            object-fit:contain;
            display:block;
        }

        .header-title-wrap {
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            pointer-events:none;
        }

        .header-title {
            font-size:18px;
            font-weight:600;
            color:#FFFFFF;
        }

        /* SHELL & CARD */
        .kasir-shell {
            width:100%;
            display:flex;
            justify-content:center;
            margin-top:8px;
        }

        .kasir-card-shell {
            width:327px;
            position:relative;
        }

        .kasir-main-card {
            width:295px;
            margin:0 auto;
            background:var(--card-bg);
            border-radius:24px;
            box-shadow:0 25px 50px rgba(0,0,0,0.25);
            padding:40px 32px 30px;
            position:relative;
        }

        .kasir-decoration-left,
        .kasir-decoration-right {
            width:32px;
            height:32px;
            border-radius:50px;
            background:var(--bg-main);
            position:absolute;
            top:304px;
        }

        .kasir-decoration-left { left:-16px; }
        .kasir-decoration-right { right:-16px; }

        /* STATUS PILL */
        .status-pill-wrap {
            display:flex;
            justify-content:center;
            margin-bottom:24px;
        }

        .status-pill {
            background:var(--yellow);
            border-radius:9999px;
            padding:8px 24px;
        }

        .status-text {
            color:#2C3E50;
            font-size:14px;
            font-weight:600;
            text-align:center;
        }

        /* AMOUNT */
        .amount-block {
            text-align:center;
            margin-bottom:18px;
        }
        .amount-value {
            font-size:48px;
            font-weight:900;
            color:var(--bg-main);
            line-height:1.1;
        }
        .amount-label {
            margin-top:6px;
            font-size:14px;
            font-weight:500;
            color:var(--text-sub);
        }

        .divider {
            width:100%;
            border-top:2px solid var(--border-soft);
            margin:12px 0 18px;
        }

        /* QR CARD */
        .qr-wrapper {
            display:flex;
            justify-content:center;
            margin-bottom:24px;
        }
        .qr-card {
            width:240px;
            height:240px;
            border-radius:16px;
            background:#ffffff;
            outline:4px solid #F1F5F9;
            outline-offset:-4px;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .qr-inner {
            width:200px;
            height:200px;
            border-radius:12px;
            background:#ffffff;
            position:relative;
            overflow:hidden;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .qr-inner img {
            width:100%;
            height:100%;
            object-fit:contain;
            display:block;
        }

        /* ORDER CODE + ICON SALIN */
        .order-code-row {
            margin-top:8px;
            margin-bottom:16px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:10px;
        }
        .order-code-text {
            font-family:'JetBrains Mono',monospace;
            font-size:22px; /* sedikit kecil biar seimbang dengan icon */
            letter-spacing:1.1px;
            color:#1E293B;
            white-space:nowrap;
        }
        .copy-btn {
            width:28px;              /* sedikit lebih kecil, proporsional */
            height:28px;
            border-radius:999px;
            border:none;
            background:transparent;
            display:flex;
            align-items:center;
            justify-content:center;
            cursor:pointer;
            padding:0;
            flex-shrink:0;
        }
        .copy-btn img {
            width:18px;
            height:18px;
            object-fit:contain;
            display:block;
        }

        /* INFO MEJA & NAMA */
        .meta-row {
            margin-top:10px;
            padding-top:8px;
        }
        .meta-inner {
            display:flex;
            flex-wrap:wrap;
            align-items:center;
            gap:6px;
            font-size:14px;
            color:#475569;
        }
        /* ikon meja diperbesar sedikit */
        .meta-icon-table {
            width:18px;    /* naik dari 16 -> 18 agar lebih proporsional */
            height:18px;
            flex-shrink:0;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .meta-icon-table img {
            width:100%;
            height:100%;
            object-fit:contain;
            display:block;
        }
        .meta-separator {
            color:#94A3B8;
        }
        .meta-strong {
            font-weight:600;
        }

        /* BOTTOM INFO CARDS */
        .bottom-info {
            margin-top:24px;
        }
        .info-card {
            width:295px;
            margin:0 auto 12px;
            border-radius:16px;
            padding:16px;
        }
        .info-card.dark {
            background:rgba(255,255,255,0.10);
        }
        .info-card.yellow {
            background:var(--info-yellow-bg);
            outline:1px solid rgba(251,191,36,0.30);
            outline-offset:-1px;
        }
        /* ikon info juga pakai img */
        .info-icon {
            width:20px;
            height:20px;
            border-radius:4px;
            margin-right:12px;
            flex-shrink:0;
            background:transparent;
            display:flex;
            align-items:center;
            justify-content:center;
            overflow:hidden;
        }
        .info-icon img {
            width:100%;
            height:100%;
            object-fit:contain;
            display:block;
        }
        .info-text-wrap {
            color:#FFFFFF;
            font-size:14px;
            line-height:1.5;
        }
        .info-text-wrap.soft {
            color:#FEF3C7;
        }
        .info-row-flex {
            display:flex;
            align-items:flex-start;
        }
    </style>
</head>
<body>
<div class="app">
    <header class="kasir-header">
        <button class="btn-back" onclick="window.history.back()">
            <!-- ganti src ini dengan gambar back buatanmu -->
            <img src="./assets/Back.svg" alt="Kembali">
        </button>
        <div class="header-title-wrap">
            <div class="header-title">Pembayaran Kasir</div>
        </div>
    </header>

    <div class="kasir-shell">
        <div class="kasir-card-shell">
            <div class="kasir-main-card">
                <div class="kasir-decoration-left"></div>
                <div class="kasir-decoration-right"></div>

                <!-- Status -->
                <div class="status-pill-wrap">
                    <div class="status-pill">
                        <div class="status-text" id="statusText">Menunggu Pembayaran</div>
                    </div>
                </div>

                <!-- Amount -->
                <div class="amount-block">
                    <div class="amount-value" id="amountValue">Rp 8.000</div>
                    <div class="amount-label">Total Pembayaran</div>
                </div>

                <div class="divider"></div>

                <!-- QR: sekarang pakai IMG yang bisa kamu ganti -->
                <div class="qr-wrapper">
                    <div class="qr-card">
                        <div class="qr-inner" id="qrBox">
                            <img src="./assets/QR_Code.svg" alt="QR Kasir">
                        </div>
                    </div>
                </div>

                <!-- ORDER CODE -->
                <div class="order-code-row">
                    <span class="order-code-text" id="orderCode">#MP-12A47Z</span>
                    <button class="copy-btn" id="btnCopy" title="Salin kode">
                        <img src="./assets/Salin_Icon.svg" alt="Salin">
                    </button>
                </div>

                <div class="divider"></div>

                <!-- META (MEJA & NAMA) -->
                <div class="meta-row">
                    <div class="meta-inner">
                        <span class="meta-icon-table">
                            <img src="./assets/Kursi_Icon.svg" alt="Meja">
                        </span>
                        <span>Meja 12</span>
                        <span class="meta-separator">â€¢</span>
                        <span>Atas Nama <span class="meta-strong">Ahmad</span></span>
                    </div>
                </div>
            </div>

            <!-- Bottom info cards -->
            <div class="bottom-info">
                <div class="info-card dark">
                    <div class="info-row-flex">
                        <div class="info-icon">
                            <img src="./assets/Information_Icon.svg" alt="Info Kasir">
                        </div>
                        <div class="info-text-wrap">
                            Tunjukkan kode ini kepada kasir<br>untuk diproses.
                        </div>
                    </div>
                </div>
                <div class="info-card yellow">
                    <div class="info-row-flex">
                        <div class="info-icon">
                            <img src="./assets/Danger_Icon.svg" alt="Info Pembayaran">
                        </div>
                        <div class="info-text-wrap soft">
                            Pesanan diproses setelah<br>pembayaran.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // ...existing behaviour not specified, add minimal helpers...

    // Baca total dari query ?total= (opsional)
    function readAmountFromQuery() {
        const params = new URLSearchParams(window.location.search);
        const raw = params.get('total');
        const num = parseInt(raw, 10);
        if (isNaN(num) || num <= 0) return 8000;
        return num;
    }

    const amountValueEl = document.getElementById('amountValue');
    const orderCodeEl = document.getElementById('orderCode');
    const btnCopy = document.getElementById('btnCopy');

    const total = readAmountFromQuery();
    amountValueEl.textContent = 'Rp ' + total.toLocaleString('id-ID');

    btnCopy.addEventListener('click', () => {
        const code = orderCodeEl.textContent.trim();
        if (!navigator.clipboard) {
            alert('Kode: ' + code);
            return;
        }
        navigator.clipboard.writeText(code).then(() => {
            alert('Kode pesanan disalin: ' + code);
        }).catch(() => {
            alert('Kode: ' + code);
        });
    });
</script>
</body>
</html>